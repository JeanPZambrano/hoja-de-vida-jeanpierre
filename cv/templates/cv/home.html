<!DOCTYPE html>
<html lang = "es">

<head>
    <meta charset = "UTF-8">

    <title>
        Bienvenido | Hoja de Vida
    </title>

    <!-- Bootstrap -->
    <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel = "stylesheet">

    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #f8f8fa, #f8f8fa);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgb(0, 0, 0);
        }

        .home-card {
            background: rgb(255, 255, 255);
            backdrop-filter: blur(10px);
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            max-width: 600px;
        }

        .home-card h1 {
            font-weight: 700;
            margin-bottom: 15px;
        }

        .home-card p {
            font-size: 18px;
            opacity: 0.9;
        }

        .btn-cv {
            margin-top: 30px;
            padding: 14px 30px;
            font-size: 18px;
            border-radius: 30px;
        }

        /* ========== Modo obscuro ========== */
        body.dark-mode {
            background: linear-gradient(135deg, #020617, #0f172a);
        }

        body.dark-mode .home-card {
            background: rgba(15, 23, 42, 0.85);
            color: #e5e7eb;
        }

        .dark-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
        }

        /* ========== Animaciones de Home ========== */
        .fade-in {
            opacity: 0;
            transform: translateY(35px);
            animation: fadeSlide;
            animation-duration: 0.9s;
            animation-timing-function: ease;
            animation-fill-mode: forwards;
        }

        .fade-delay-1 {
            animation-delay: 0.3s;
        }

        .fade-delay-2 {
            animation-delay: 0.6s;
        }

        @keyframes fadeSlide {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Hover del botÃ³n */
        .btn-cv {
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .btn-cv:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.4);
        }

        body {
            transition:
                background-color 0.35s ease,
                color 0.35s ease;
        }

        .home-card,
        .card,
        .navbar {
            transition:
                background-color 0.35s ease,
                color 0.35s ease,
                box-shadow 0.35s ease;
        }

    </style>
</head>

<body>

<button class = "btn btn-outline- dark-toggle" onclick = "toggleDarkMode ()" id = "darkBtn">
    ðŸŒ™
</button>

<div class = "home-card shadow-lg">

    <h1 class = "fade-in"> 
        Hola ðŸ‘‹, mucho gusto 
    </h1>
    
    <h2 class = "fade-in fade-delay-1"> 
        Me llamo {{ perfil.nombre }} 
    </h2>

    <p class = "mt-3 fade-in fade-delay-2">
        Bienvenido a mi hoja de vida personal automatizada.<br>
        AquÃ­ podrÃ¡s conocer mejor mi perfil profesional, mis experiencia, 
        mis habilidades, mis proyectos realizados a lo largo de mi carrera
        y mis certificados obtenidos.
    </p>

    <a href = "{% url 'cv' %}" class = "btn btn-primary btn-cv fade-in fade-delay-2">
        Ver Hoja de Vida Personal Automatizada
    </a>

</div>

<script>
    const btn = document.getElementById ("darkBtn");

    function applyDarkMode (isDark) {
        document.body.classList.toggle ("dark-mode", isDark);
        btn.innerText = isDark ? "â˜€ï¸" : "ðŸŒ™";
    }

    function toggleDarkMode () {
        const isDark = !document.body.classList.contains ("dark-mode");
        localStorage.setItem ("darkMode", isDark);
        applyDarkMode (isDark);
    }

    // Al cargar la pÃ¡gina
    function syncDarkMode () {
        const savedMode = localStorage.getItem ("darkMode") === "true";
        applyDarkMode (savedMode);
    }

    syncDarkMode();

    // ðŸ”¥ SINCRONIZA AL VOLVER CON "ATRÃS"
    window.addEventListener ("pageshow", syncDarkMode);

    // ðŸ”¥ ESCUCHAR CAMBIOS ENTRE PESTAÃ‘AS
    window.addEventListener ("storage", (event) => {
        if (event.key === "darkMode") {
            applyDarkMode (event.newValue === "true");
        }
    });

</script>

</body>

</html>